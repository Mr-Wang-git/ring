<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper	namespace="com.cl.mapper.SigninMapper">
<!-- 用户 -->
	<select id="findUserAccount" resultType="String">
		SELECT ACCOUNT FROM USERAANDP <where> account = #{account} </where>
	</select>
	

	<insert id="signinResume" >
		INSERT INTO RESUME(IMG,email,phone,name) VALUES('icon1.png',#{email},#{phone},"未命名")
	</insert>
	
	<insert id="signinUserInfo" >
		INSERT INTO USERINFO(email,phone) VALUES(#{email},#{phone})
	</insert>
	
	<select id="selectResume" resultType="int">
		SELECT ID FROM RESUME <where> email=#{email} and phone=#{phone}</where>
	</select>
	
	<select id="selectUserInfo" resultType="int">
		SELECT ID FROM USERINFO <where> email=#{email} and phone=#{phone}</where>
	</select>
	
	<insert id="signinUser" >
		INSERT INTO USERAANDP(ACCOUNT,PASSWORD,RESUMEID,USERINFOID) VALUES(#{account},#{pass},#{id3},#{id4})
	</insert>
	
	<!-- 公司 -->
	<select id="findCompanyAccount" resultType="String">
		SELECT ACCOUNT FROM COMPANYAANDP <where>account = #{account}</where>
	</select>
	<insert id="signinCompanyInfo">
		INSERT INTO COMPANYINFO(LEGALREP,PHONE,EMAIL,OFFICEADDRESS,COMPANYNAME) values(#{legal},#{phone},#{email},#{address},"未命名")
	</insert>
	<select id="selectCompanyInfoId" resultType="String">
		SELECT ID FROM COMPANYINFO <where>
			EMAIL = #{email} AND LEGALREP = #{legal} AND OFFICEADDRESS = #{address}
		</where>
	</select>
	<insert id="SigninCompany">
		INSERT INTO COMPANYAANDP(ACCOUNT,PASSWORD,INFOID) VALUES(#{ACC},#{pass},#{id})
	</insert>
	
	<!-- 管理 -->
	<select id="findAdminAccount" resultType="String">
		select ADMINACCOUNT from ADMIN <where>ADMINACCOUNT =#{account}</where>
	</select>
</mapper>